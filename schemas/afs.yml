version: 1
connection: afs
introspect: true

tables:

  Artikel:
    # Business-Key (anpassbar, falls bei dir anders)
    keys: [Artikelnummer]

    # Deklarativer Standardfilter (kein SQL)
    source:
      table: Artikel
      default_filter:
        Mandant: { eq: 1 }
        Art: { lt: 255 }
        Artikelnummer: { not_null: true }
        Internet: {eq : 1}
   
    # Alle relevanten Felder wie von dir geliefert
    fields:
      - Artikel
      - Art
      - Artikelnummer
      - Bezeichnung
      - EANNummer
      - Bestand
      - Bild1
      - Bild2
      - Bild3
      - Bild4
      - Bild5
      - Bild6
      - Bild7
      - Bild8
      - Bild9
      - Bild10
      - VK3              # Verkaufspreis
      - Warengruppe
      - Umsatzsteuer
      - Zusatzfeld01     # Mindestmenge
      - Zusatzfeld03     # Attribname1
      - Zusatzfeld04     # Attribname2
      - Zusatzfeld05     # Attribname3
      - Zusatzfeld06     # Attribname4
      - Zusatzfeld15     # Attribvalue1
      - Zusatzfeld16     # Attribvalue2
      - Zusatzfeld17     # Attribvalue3
      - Zusatzfeld18     # Attribvalue4
      - Zusatzfeld07     # Einzelartikel/Master/Masterartikelnummer
      - Bruttogewicht
      - Internet         # Webshop ja/nein
      - Einheit
      - Langtext
      - Werbetext1
      - Bemerkung
      - Hinweis
      - Update

    # (Optional) Hinweis für spätere Mappings: Bildspalten als Muster nutzbar
    hints:
      fanout_images:
        pattern: "Bild{n}"
        range: { from: 1, to: 10 }

  Warengruppe:
    keys: [Warengruppe]

    source:
      table: Warengruppe
      default_filter:
        Mandant: { eq: 1 }
        Internet: { eq: 1 }
      on_update_column: Update   # laut deiner Angabe onUpdate="Update"

    fields:
      - Warengruppe
      - Art
      - Anhang
      - Ebene
      - Bezeichnung
      - Internet
      - Bild
      - Bild_gross
      - Beschreibung
      - Update

  Dokument:
    keys: [Zaehler]

    source:
      table: Dokument
      default_filter:
        Artikel: { gt: 0 }

    fields:
      - Zaehler
      - Artikel
      - Dateiname
      - Titel
      - Art
