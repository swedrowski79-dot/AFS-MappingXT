# evo-artikel.yaml
# Configuration for EVO article database as source

source:
  type: sqlite
  name: EVO Articles
  description: EVO SQLite article database as source system

connection:
  database: ${DATA_DB_PATH}
  mode: readonly

# Entity mappings from EVO source
entities:
  # Articles (Artikel)
  Articles:
    table: Artikel
    where: "Online = 1"
    fields:
      ID:
        source: ID
        type: integer
      AFS_ID:
        source: AFS_ID
        type: integer
      XT_ID:
        source: XT_ID
        type: integer
      Artikelnummer:
        source: Artikelnummer
        type: string
      Bezeichnung:
        source: Bezeichnung
        type: string
      EANNummer:
        source: EANNummer
        type: string
      Bestand:
        source: Bestand
        type: integer
      Preis:
        source: Preis
        type: float
      Category:
        source: Category
        type: integer
      Master:
        source: Master
        type: integer
      Masterartikel:
        source: Masterartikel
        type: string
      Mindestmenge:
        source: Mindestmenge
        type: integer
      Gewicht:
        source: Gewicht
        type: float
      Online:
        source: Online
        type: boolean
      Einheit:
        source: Einheit
        type: string
      Langtext:
        source: Langtext
        type: string
      Werbetext:
        source: Werbetext
        type: string
      Meta_Title:
        source: Meta_Title
        type: string
      Meta_Description:
        source: Meta_Description
        type: string
      Bemerkung:
        source: Bemerkung
        type: string
      Hinweis:
        source: Hinweis
        type: string
      last_update:
        source: last_update
        type: datetime

  # Images (Bilder)
  Images:
    table: Bilder
    fields:
      ID:
        source: ID
        type: integer
      XT_ID:
        source: XT_ID
        type: integer
      Bildname:
        source: Bildname
        type: string
      md5:
        source: md5
        type: string

  # Article-Image Relations
  ArticleImages:
    table: Artikel_Bilder
    fields:
      Artikel_ID:
        source: Artikel_ID
        type: integer
      Bild_ID:
        source: Bild_ID
        type: integer
      XT_ARTIKEL_ID:
        source: XT_ARTIKEL_ID
        type: integer
      XT_Bild_ID:
        source: XT_Bild_ID
        type: integer
