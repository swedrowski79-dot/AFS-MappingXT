# xt-artikel.yaml
# Configuration for XT-Commerce article database as target

version: 1.0.0

target:
  type: mysql
  name: XT-Commerce Articles
  description: MySQL database for XT-Commerce article synchronization

connection:
  host: ${XT_MYSQL_HOST}
  port: ${XT_MYSQL_PORT}
  database: ${XT_MYSQL_DB}
  username: ${XT_MYSQL_USER}
  password: ${XT_MYSQL_PASS}

# Entity mappings to target tables
entities:
  products:
    table: products
    primary_key: products_id
    unique_key: products_model
    fields:
      products_id:
        type: integer
        auto_increment: true
      products_model:
        type: string
        required: true
      products_ean:
        type: string
        nullable: true
      products_quantity:
        type: integer
        nullable: true
      products_weight:
        type: float
        nullable: true
      products_status:
        type: integer
        default: 0
      products_price:
        type: decimal
        precision: [15, 4]
        nullable: true
      products_tax_class_id:
        type: integer
        nullable: true
      products_date_added:
        type: datetime
        nullable: true
      products_last_modified:
        type: datetime
        nullable: true
      products_master:
        type: integer
        default: 0
      products_master_model:
        type: string
        nullable: true
      products_vpe:
        type: integer
        nullable: true
      products_vpe_value:
        type: integer
        nullable: true
      afs_id:
        type: integer
        nullable: true
      evo_id:
        type: integer
        nullable: true

  products_description:
    table: products_description
    primary_key: [products_id, language_id]
    fields:
      products_id:
        type: integer
        required: true
      language_id:
        type: integer
        required: true
      products_name:
        type: string
        required: true
      products_description:
        type: text
        nullable: true
      products_short_description:
        type: text
        nullable: true
      products_meta_title:
        type: string
        nullable: true
      products_meta_description:
        type: text
        nullable: true
      products_meta_keywords:
        type: text
        nullable: true

  products_images:
    table: products_images
    primary_key: image_id
    fields:
      image_id:
        type: integer
        auto_increment: true
      products_id:
        type: integer
        required: true
      image_name:
        type: string
        required: true
      image_nr:
        type: integer
        default: 0
      evo_id:
        type: integer
        nullable: true

# Update tracking
update_tracking:
  enabled: true
  timestamp_field: products_last_modified
  update_on_change: true
